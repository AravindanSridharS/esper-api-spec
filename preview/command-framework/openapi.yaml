swagger: '2.0'
info:
  description: |
    # Introduction
    Esper APIs are a set of REST-based APIs that help you programmatically control and monitor Android-based Dedicated Devices running the Esper agent using Esper Manage. With these APIs, you can orchestrate and manage devices that have been provisioned against your Esper Manage environment. Furthermore, these APIs allows you to manage the Android applications installed on your Dedicated Device fleet. To read more about the various capabilities of Esper APIs and Esper managed devices, please visit [esper.io](https://esper.io). This guide describes all the available APIs in detail, along with code samples for you to quickly ramp up to using them.\
    To use these APIs you will need to create a developer account with Esper and get access to the Esper Dev Console and the Esper ManageDashboard. You can find out more about Esper and sign up for free at [esper.io/signup](https://esper.io/signup)\
    We've done our best to keep this document up to date, but if you find any issues, please reach out to us at developer@esper.io.

    # SDK

      You are welcome to use your favorite HTTP/REST library for your programming language in order to call these APIs, or you can use our SDK (currently supporting [python](https://github.com/esper-io/esper-client-py)) to do so.


    # Authentication
    The client needs to send authentication details to access the Esper APIs by generating and applying an API key. Be sure to sign up for your free trial account with Esper Dev to generate your key:

    # Errors
    The APIs use standard HTTP status codes to indicate success or failure. All error responses will have a JSON body in the following format:

    ```
    {
      "errors": [],
      "message": "error message",
      "status": 400
    }
    ```
    * `errors` -  List of error details
    * `message` - Error description
    * `status` - HTTP status code
  version: 1.0.0
  title: Esper APIs
  termsOfService: 'https://esper.io/terms-of-service'
  contact:
    email: developer@esper.io
  license:
    name: Apache 2.0
    url: 'http://www.apache.org/licenses/LICENSE-2.0.html'
host: foo-api.esper.cloud
basePath: /api
tags:
  - name: Enterprise
    description: The Esper Enterprise APIs to manage the account information set up for your companyâ€™s account. Read our Esper Manage documentation or use the Esper Manage Dashboard through the Esper Developer Console
    externalDocs:
      description: Find out more about enterprise settings
      url: 'https://docs.esper.io/home/console.html#company-settings'
  - name: Application
    description: APIs for application management
    externalDocs:
      description: Find out more about application management
      url: 'https://docs.esper.io/home/console.html#apps'
  - name: Device
    description: APIs for device management
    externalDocs:
      description: Find out more about device management
      url: 'https://docs.esper.io/home/console.html#devices'
  - name: Device Group
    description: APIs for device group management
    externalDocs:
      description: Find out more about device group management
      url: 'https://docs.esper.io/home/console.html#groups'
  - name: Commands
    description: APIs to run device commands
    externalDocs:
      description: Find out more about device commands
      url: 'https://docs.esper.io/home/console/device-management/-/#device-actions'
  - name: Group Commands
    description: APIs to run group commands. Command will be run on all the active devices in a group
    externalDocs:
      description: Find out more in `Actions` of group commands
      url: 'https://docs.esper.io/home/console.html#groups'
  - name: Token
    description: Fetch API token information
    externalDocs:
      description: Find out more about API get generation
      url: 'https://docs.esper.io/home/module/genapikey.html'
  - name: Commands 2.0
    description: 'Commands 2.0 is to provide advanced device commands capabilities like queuing, support for offline devices, dynamic device set for commands and command history. Commands 2.0 is in active development and support for all the commands will be added soon.'
    externalDocs:
      description: Find out more about commands 2.0
      url: 'https://docs.esper.io/'
schemes:
  - https
x-tagGroups:
  - name: API Reference
    tags:
      - Enterprise
      - Application
      - Device
      - Device Group
      - Commands
      - Group Commands
      - Token
      - Commands 2.0
securityDefinitions:
  apiKey:
    description: |
      #### API KEY - Access Token
      Access token for APIs passed as authorization header in calls. You need to generate this from your Esper Dev Console at `<domain>-api.esper.cloud` where foo is the sub-domain name you gave for your Esper Dev environment when you signed up for your Esper Dev account. Please follow the instructions [here](https://docs.esper.io/home/module/genapikey.html) to generate an access token.
      Once you have the access token, you need to send an authorization header as below

      ```bash

          curl -X GET \
            https://<domain>-api.esper.cloud/api/enterprise/<enterprise_id>/device/ \
            -H 'Authorization: Bearer <ACCESS_TOKEN>' \
            -H 'Content-Type: application/json' \
      ```

      > Please note the use of keyword **Bearer** before the token value.


      You can read more about api key authentication scheme [here](https://swagger.io/docs/specification/authentication/api-keys/).
    name: Authorization
    type: apiKey
    in: header
paths:
  '/enterprise/{enterprise_id}/application/':
    get:
      operationId: getAllApplications
      summary: List apps in enterprise
      description: Returns Application list
      produces:
        - application/json
      parameters:
        - name: application_name
          in: query
          description: filter by application name
          required: false
          type: string
        - name: package_name
          in: query
          description: filter by package name
          required: false
          type: string
        - name: is_hidden
          in: query
          description: filter default esper apps
          required: false
          type: boolean
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
          default: 0
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/Application'
      security:
        - apiKey: []
      tags:
        - Application
    parameters:
      - name: enterprise_id
        description: A UUID string identifying this enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/application/{application_id}/':
    get:
      operationId: getApplication
      summary: Get application information
      description: Returns Application instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Application'
      security:
        - apiKey: []
      tags:
        - Application
    delete:
      operationId: deleteApplication
      summary: Delete an application
      description: Empty response
      produces:
        - application/json
      parameters: []
      responses:
        '204':
          description: successful operation
      security:
        - apiKey: []
      tags:
        - Application
    parameters:
      - name: application_id
        in: path
        description: A UUID string identifying this application.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/application/{application_id}/version/':
    get:
      operationId: getAppVersions
      summary: List App versions
      description: Returns AppVersion list
      produces:
        - application/json
      parameters:
        - name: version_code
          in: query
          description: filter by version code
          required: false
          type: string
        - name: build_number
          in: query
          description: filter by build number
          required: false
          type: string
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
          default: 0
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/AppVersion'
      security:
        - apiKey: []
      tags:
        - Application
    parameters:
      - name: application_id
        in: path
        description: A UUID string identifying this application.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/application/{application_id}/version/{version_id}/':
    get:
      operationId: getAppVersion
      summary: Get app version information
      description: Returns AppVersion instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/AppVersion'
      security:
        - apiKey: []
      tags:
        - Application
    delete:
      operationId: deleteAppVersion
      summary: Delete app version
      description: Empty response
      produces:
        - application/json
      parameters: []
      responses:
        '204':
          description: successful operation
      security:
        - apiKey: []
      tags:
        - Application
    parameters:
      - name: version_id
        in: path
        description: A UUID string identifying this app version.
        required: true
        type: string
        format: uuid
      - name: application_id
        in: path
        description: A UUID string identifying this application.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/application/upload/':
    post:
      operationId: upload
      summary: upload an application to enterprise
      description: Returns application
      produces:
        - application/json
      parameters:
        - name: app_file
          description: valid APK file
          in: formData
          required: true
          type: file
      responses:
        '201':
          description: successful operation
          schema:
            type: object
            properties:
              application:
                $ref: '#/definitions/Application'
      consumes:
        - multipart/form-data
        - application/x-www-form-urlencoded
      security:
        - apiKey: []
      tags:
        - Application
    parameters:
      - name: enterprise_id
        description: A UUID string identifying this enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/device/':
    get:
      summary: Fetch all devices in an enterprise
      description: Returns a list of devices
      operationId: getAllDevices
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: name
          in: query
          description: Filter by device name
          required: false
          type: string
        - name: group
          in: query
          description: Filter by group id
          required: false
          type: string
          format: uuid
        - name: imei
          in: query
          description: filter by imei
          required: false
          type: string
        - name: serial
          in: query
          description: filter by serial number
          required: false
          type: string
        - name: state
          in: query
          description: filter by device state
          required: false
          type: integer
        - name: brand
          in: query
          description: filter by brand
          required: false
          type: string
        - name: is_gms
          in: query
          description: filter for gms devices
          required: false
          type: boolean
        - name: search
          in: query
          description: 'A search term. Search by device name, imei or mac address'
          required: false
          type: string
        - name: tags
          in: query
          description: A partial text search for device tags
          required: false
          type: string
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
          default: 0
      responses:
        '200':
          description: successful operation
          schema:
            type: object
            properties:
              count:
                type: integer
                format: int64
              next:
                type: string
                format: url
              previous:
                type: string
                format: url
              results:
                type: array
                items:
                  $ref: '#/definitions/Device'
      security:
        - apiKey: []
      tags:
        - Device
  '/enterprise/{enterprise_id}/device/{device_id}/':
    get:
      summary: Fetch device details by ID
      description: Returns details of a device
      operationId: getDeviceById
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: device_id
          in: path
          description: ID of the device
          required: true
          type: string
          format: uuid
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/Device'
        '400':
          description: Bad request
      security:
        - apiKey: []
      tags:
        - Device
  '/enterprise/{enterprise_id}/device/{device_id}/app/':
    get:
      operationId: getDeviceApps
      summary: List all device apps
      description: Returns DeviceApp list
      produces:
        - application/json
      parameters:
        - name: package_name
          in: query
          description: Filter by Package name
          required: false
          type: string
        - name: whitelisted
          in: query
          description: Whitelist filter
          required: false
          type: string
        - name: search
          in: query
          description: A search term. Search by app_name.
          required: false
          type: string
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/DeviceApp'
      security:
        - apiKey: []
      tags:
        - Device
    parameters:
      - name: enterprise_id
        description: A UUID string identifying this enterprise.
        in: path
        required: true
        type: string
      - name: device_id
        description: A UUID string identifying device.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/device/{device_id}/app/{app_id}/':
    get:
      operationId: getDeviceAppById
      summary: Get device app details
      description: Returns DeviceApp instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceApp'
      security:
        - apiKey: []
      tags:
        - Device
    parameters:
      - name: app_id
        in: path
        description: A UUID string identifying this device app.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying this device.
        in: path
        required: true
        type: string
      - name: device_id
        description: A UUID string identifying this enteprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/device/{device_id}/command/':
    post:
      summary: Run commands on device
      description: 'Fire commands on device like reboot, ping etc'
      operationId: runCommand
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: device_id
          in: path
          description: ID of the device
          required: true
          type: string
          format: uuid
        - name: command
          in: body
          description: Command request body
          required: true
          schema:
            $ref: '#/definitions/CommandRequest'
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceCommand'
      security:
        - apiKey: []
      tags:
        - Commands
  '/enterprise/{enterprise_id}/device/{device_id}/command/{command_id}/':
    get:
      operationId: getCommand
      summary: Get command status
      description: Return DeviceCommand instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceCommand'
      security:
        - apiKey: []
      tags:
        - Commands
    parameters:
      - name: command_id
        in: path
        description: A UUID string identifying this device command.
        required: true
        type: string
        format: uuid
      - name: device_id
        in: path
        description: A UUID string identifying this device.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
        format: uuid
  '/enterprise/{enterprise_id}/device/{device_id}/install/':
    get:
      operationId: getAppInstalls
      summary: List installed apps
      description: Returns AppInstall list
      produces:
        - application/json
      parameters:
        - name: device
          in: query
          description: filter by device id
          required: false
          type: string
        - name: package_name
          in: query
          description: filter by package name
          required: false
          type: string
        - name: application_name
          in: query
          description: filter by application name
          required: false
          type: string
        - name: install_state
          in: query
          description: filter by install state
          required: false
          type: string
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
          default: 0
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/AppInstall'
      security:
        - apiKey: []
      tags:
        - Device
    parameters:
      - name: enterprise_id
        description: A UUID string identifying this enterprise.
        in: path
        required: true
        type: string
      - name: device_id
        description: A UUID string identifying device.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/device/{device_id}/status/':
    get:
      operationId: getDeviceEvent
      summary: Get latest device event
      description: Returns DeviceStatus instance
      produces:
        - application/json
      parameters:
        - name: latest_event
          in: query
          description: Flag to get latest event
          required: true
          type: integer
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/DeviceStatus'
      security:
        - apiKey: []
      tags:
        - Device
    parameters:
      - name: enterprise_id
        description: A UUID string identifying this enterprise.
        in: path
        required: true
        type: string
      - name: device_id
        description: A UUID string identifying device.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/devicegroup/':
    get:
      operationId: getAllGroups
      summary: List device groups
      description: Returns EnterpriseDeviceGroup list
      produces:
        - application/json
      parameters:
        - name: name
          in: query
          description: filter by group name
          required: false
          type: string
        - name: limit
          in: query
          description: Number of results to return per page.
          required: false
          type: integer
          default: 20
        - name: offset
          in: query
          description: The initial index from which to return the results.
          required: false
          type: integer
          default: 0
      responses:
        '200':
          description: successful operation
          schema:
            required:
              - count
              - results
            type: object
            properties:
              count:
                type: integer
              next:
                type: string
                format: url
                x-nullable: true
              previous:
                type: string
                format: url
                x-nullable: true
              results:
                type: array
                items:
                  $ref: '#/definitions/DeviceGroup'
      security:
        - apiKey: []
      tags:
        - Device Group
    post:
      operationId: createGroup
      summary: Create a device group
      description: Returns EnterpriseDeviceGroup instance
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeviceGroup'
      responses:
        '201':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceGroup'
      security:
        - apiKey: []
      tags:
        - Device Group
    parameters:
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/devicegroup/{group_id}/':
    get:
      operationId: getGroupById
      summary: Get device group information
      description: Returns EnterpriseDeviceGroup instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceGroup'
      security:
        - apiKey: []
      tags:
        - Device Group
    put:
      operationId: updateGroup
      summary: Update device group
      description: Returns EnterpriseDeviceGroup instance
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeviceGroupUpdate'
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceGroup'
      security:
        - apiKey: []
      tags:
        - Device Group
    patch:
      operationId: partialUpdateGroup
      summary: Partial update group
      description: Returns EnterpriseDeviceGroup instance
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/DeviceGroupUpdate'
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/DeviceGroup'
      security:
        - apiKey: []
      tags:
        - Device Group
    delete:
      operationId: deleteGroup
      summary: Delete a device group
      description: Emtpy response
      produces:
        - application/json
      parameters: []
      responses:
        '204':
          description: successful operation
      security:
        - apiKey: []
      tags:
        - Device Group
    parameters:
      - name: group_id
        in: path
        description: A UUID string identifying this enterprise device group.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
  '/enterprise/{enterprise_id}/devicegroup/{group_id}/command/':
    post:
      summary: Run commands on group devices
      description: Fire commands on all the group devices
      operationId: runGroupCommand
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          description: Group command request
          required: true
          schema:
            $ref: '#/definitions/GroupCommandRequest'
      responses:
        '201':
          description: successful operation
          schema:
            $ref: '#/definitions/GroupCommand'
      security:
        - apiKey: []
      tags:
        - Group Commands
    parameters:
      - name: enterprise_id
        in: path
        description: ID of the enterprise
        required: true
        type: string
        format: uuid
      - name: group_id
        in: path
        description: ID of the group
        required: true
        type: string
        format: uuid
  '/enterprise/{enterprise_id}/devicegroup/{group_id}/command/{command_id}/':
    get:
      operationId: getGroupCommand
      summary: Get group command status
      description: Returns GroupCommand instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/GroupCommand'
      security:
        - apiKey: []
      tags:
        - Group Commands
    parameters:
      - name: command_id
        in: path
        description: A UUID string identifying this device command.
        required: true
        type: string
        format: uuid
      - name: group_id
        in: path
        description: A UUID string identifying this group.
        required: true
        type: string
        format: uuid
      - name: enterprise_id
        description: A UUID string identifying enterprise.
        in: path
        required: true
        type: string
        format: uuid
  '/v0/enterprise/{enterprise_id}/command/':
    post:
      summary: Create a command request
      description: API to create a command request for the device.
      operationId: createCommand
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: request
          in: body
          description: The request body to create a command for set of devices or groups
          required: true
          schema:
            $ref: '#/definitions/V0CommandRequest'
      responses:
        '201':
          description: command request successfully created
          schema:
            $ref: '#/definitions/V0CommandRequest'
      security:
        - apiKey: []
      tags:
        - Commands 2.0
    get:
      operationId: listCommandRequest
      summary: List command requests
      description: API to get and filter command requests
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: command_type
          in: query
          description: 'Filter by type of command request i.e device, group etc'
          required: false
          type: string
        - name: devices
          in: query
          description: Filter by device IDs. Accepts comma separated values.
          required: false
          type: string
        - name: device_type
          in: query
          description: 'Filter by device type i.e active, inactive etc'
          required: false
          type: string
        - name: command
          in: query
          description: Filter by command name
          required: false
          type: string
        - name: issued_by
          in: query
          description: Filter by user. Accepts user id.
          required: false
          type: string
      responses:
        '200':
          description: on successful request
          schema:
            type: object
            properties:
              count:
                type: integer
                format: int64
              next:
                type: string
                format: url
              previous:
                type: string
                format: url
              results:
                type: array
                items:
                  $ref: '#/definitions/V0CommandRequest'
      security:
        - apiKey: []
      tags:
        - Commands 2.0
  '/v0/enterprise/{enterprise_id}/command/{request_id}/status/':
    get:
      operationId: getCommandRequestStatus
      summary: get status list for command request
      description: API to get and filter command request status
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: request_id
          in: path
          description: ID for the command request
          required: true
          type: string
          format: uuid
        - name: device
          in: query
          description: Filter status result by device id.
          required: false
          type: string
        - name: state
          in: query
          description: Filter by command state
          required: false
          type: string
      responses:
        '200':
          description: on successful request
          schema:
            type: object
            properties:
              count:
                type: integer
                format: int64
              next:
                type: string
                format: url
              previous:
                type: string
                format: url
              results:
                type: array
                items:
                  $ref: '#/definitions/V0CommandStatus'
      security:
        - apiKey: []
      tags:
        - Commands 2.0
  '/v0/enterprise/{enterprise_id}/command/{request_id}/status/{command_id}/':
    patch:
      operationId: partialUpdateCommandStatus
      summary: Update command status
      description: API to patch the state of command
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: ID of the enterprise
          required: true
          type: string
          format: uuid
        - name: request_id
          in: path
          description: ID for the command request
          required: true
          type: string
          format: uuid
        - name: command_id
          in: path
          description: ID for the command
          required: true
          type: string
          format: uuid
        - name: action
          in: query
          description: Action to be performed on device
          required: true
          type: string
          enum:
            - acknowledge
            - in_progress
            - success
            - failed
            - cancel
        - name: data
          in: body
          required: false
          schema:
            $ref: '#/definitions/V0CommandStatusUpdate'
      responses:
        '200':
          description: on successful update
          schema:
            $ref: '#/definitions/V0CommandStatus'
      security:
        - apiKey: []
      tags:
        - Commands 2.0
  '/v0/enterprise/{enterprise_id}/device/{device_id}/command-history/':
    get:
      operationId: getDeviceCommandHistory
      summary: get command history for device
      description: API to get and filter deivce command history
      produces:
        - application/json
      parameters:
        - name: enterprise_id
          in: path
          description: Id of the enterprise
          required: true
          type: string
          format: uuid
        - name: device_id
          in: path
          description: Id for the command request
          required: true
          type: string
          format: uuid
        - name: state
          in: query
          description: Filter by command state
          required: false
          type: string
      responses:
        '200':
          description: on successful request
          schema:
            type: object
            properties:
              count:
                type: integer
                format: int64
              next:
                type: string
                format: url
              previous:
                type: string
                format: url
              results:
                type: array
                items:
                  $ref: '#/definitions/V0CommandStatus'
      security:
        - apiKey: []
      tags:
        - Commands 2.0
  '/v1/enterprise/{enterprise_id}/':
    get:
      operationId: getEnterprise
      summary: Get your enterprise information
      description: Returns Enterprise instance
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/EnterpriseV1'
      security:
        - apiKey: []
      tags:
        - Enterprise
    patch:
      operationId: partialUpdateEnterprise
      summary: Partial update enterprise information
      description: Returns updated enterprise
      produces:
        - application/json
      parameters:
        - name: data
          in: body
          required: true
          schema:
            $ref: '#/definitions/EnterpriseUpdateV1'
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/EnterpriseV1'
      security:
        - apiKey: []
      tags:
        - Enterprise
    parameters:
      - name: enterprise_id
        in: path
        description: A UUID string identifying this enterprise.
        required: true
        type: string
        format: uuid
  /v1/token-info/:
    get:
      operationId: getTokenInfo
      summary: Token Information
      description: 'API to get resource information associated with your token like your enterprise, user etc'
      produces:
        - application/json
      parameters: []
      responses:
        '200':
          description: successful operation
          schema:
            $ref: '#/definitions/TokenInfoV1'
      security:
        - apiKey: []
      tags:
        - Token
definitions:
  AppInstall:
    required:
      - application
      - install_state
      - enterprise
      - device
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      application:
        $ref: '#/definitions/AppInstallApplication'
      install_state:
        $ref: '#/definitions/AppInstallStateEnum'
      reason_details:
        title: Reason details
        type: string
        minLength: 1
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      enterprise:
        title: Enterprise
        type: string
        format: url
      device:
        title: Device
        type: string
        format: url
  AppInstallApplication:
    title: Application
    type: object
    properties:
      application_name:
        title: Application name
        type: string
      package_name:
        title: Package name
        type: string
      version:
        $ref: '#/definitions/AppInstallVersion'
      is_enabled:
        title: Is enabled
        type: boolean
  AppInstallStateEnum:
    title: Install state
    type: string
    description: |
      Device App Install State

      ``` * NOT_INSTALLED = "Not Installed"
      * INSTALL_IN_PROGRESS = "Installation In-Progress"
      * UNINSTALL_IN_PROGRESS = "Uninstallation In-Progress"
      * INSTALL_SUCCESS = "Install Success"
      * INSTALL_FAILED = "Install Failed"
      * UNINSTALL_SUCCESS = "Uninstall Success"
      * UNINSTALL_FAILED = "Uninstall Failed"
      ```
    enum:
      - NOT_INSTALLED
      - INSTALL_IN_PROGRESS
      - UNINSTALL_IN_PROGRESS
      - INSTALL_SUCCESS
      - INSTALL_FAILED
      - UNINSTALL_SUCCESS
      - UNINSTALL_FAILED
  AppInstallVersion:
    title: Version
    type: object
    properties:
      app_version_id:
        title: App version id
        type: string
        format: uuid
      version_code:
        title: Version code
        type: string
      build_number:
        title: Build number
        type: string
      hash_string:
        title: Hash string
        type: string
  Application:
    required:
      - application_name
      - package_name
      - enterprise
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      versions:
        type: array
        items:
          $ref: '#/definitions/ApplicationVersion'
      application_name:
        title: Application name
        type: string
        maxLength: 255
        minLength: 1
      package_name:
        title: Package name
        type: string
        maxLength: 255
        minLength: 1
      developer:
        title: Developer
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      category:
        title: Category
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      content_rating:
        title: Content rating
        type: string
        format: decimal
      compatibility:
        title: Compatibility
        type: string
        minLength: 1
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      is_hidden:
        title: Is hidden
        type: boolean
      enterprise:
        title: Enterprise
        type: string
        format: url
  ApplicationVersion:
    title: Version
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      version_code:
        title: Version code
        type: string
        maxLength: 50
        minLength: 1
      build_number:
        title: Build number
        type: string
        maxLength: 100
        minLength: 1
        x-nullable: true
      hash_string:
        title: Hash string
        type: string
      min_sdk_version:
        title: Min sdk version
        type: string
        maxLength: 10
        minLength: 1
        x-nullable: true
      target_sdk_version:
        title: Target sdk version
        type: string
        maxLength: 10
        minLength: 1
        x-nullable: true
      download_url:
        title: Url
        type: string
        format: url
  AppPermission:
    required:
      - permission
      - enterprise
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      permission:
        title: Permission
        type: string
        maxLength: 255
        minLength: 1
      grant_state:
        title: Grant state
        type: string
        enum:
          - Default
          - Denied
          - Granted
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      enterprise:
        title: Enterprise
        type: string
        format: url
      app_version:
        title: App version
        type: string
        format: url
  AppVersion:
    title: Version
    required:
      - permissions
      - version_code
      - enterprise
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      installed_count:
        title: Installed count
        type: integer
        readOnly: true
      permissions:
        type: array
        items:
          $ref: '#/definitions/AppPermission'
      app_file:
        title: App file
        type: string
        readOnly: true
        format: url
      app_icon:
        title: App icon
        type: string
        readOnly: true
        x-nullable: true
        format: url
      version_code:
        title: Version code
        type: string
        maxLength: 50
        minLength: 1
      build_number:
        title: Build number
        type: string
        maxLength: 100
        minLength: 1
        x-nullable: true
      size_in_mb:
        title: Size in mb
        type: number
      hash_string:
        title: Hash string
        type: string
      release_name:
        title: Release name
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      release_comments:
        title: Release comments
        type: string
        minLength: 1
        x-nullable: true
      release_track:
        title: Release track
        type: string
        enum:
          - Alpha
          - Beta
          - Production
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      min_sdk_version:
        title: Min sdk version
        type: string
        maxLength: 10
        minLength: 1
        x-nullable: true
      target_sdk_version:
        title: Target sdk version
        type: string
        maxLength: 10
        minLength: 1
        x-nullable: true
      is_enabled:
        title: Is enabled
        type: boolean
      enterprise:
        title: Enterprise
        type: string
        format: url
      application:
        title: Application
        type: string
        format: url
  CommandArgs:
    title: Command args
    type: object
    properties:
      wipe_external_storage:
        type: boolean
        default: false
      wipe_FRP:
        type: boolean
        default: true
      brightness_value:
        type: integer
        minimum: 1
        maximum: 100
      stream:
        $ref: '#/definitions/SettingsVolumeStreamEnum'
      volume_level:
        type: integer
        minimum: 0
        maximum: 100
      wifi_state:
        type: boolean
      bluetooth_state:
        type: boolean
      rotate_state:
        $ref: '#/definitions/SettingsRotateStateEnum'
      gps_state:
        $ref: '#/definitions/SettingsGPSStateEnum'
      screen_off_timeout:
        description: Value in seconds
        type: integer
        minimum: 5000
        maximum: 1800000
      app_version:
        type: string
      package_name:
        type: string
  CommandRequest:
    required:
      - command
    type: object
    properties:
      command_args:
        $ref: '#/definitions/CommandArgs'
      command:
        $ref: '#/definitions/DeviceCommandEnum'
  Device:
    type: object
    properties:
      id:
        type: string
        format: uuid
      url:
        type: string
        format: url
      device_name:
        type: string
      policy_name:
        type: string
      status:
        type: integer
        format: int32
        description: Current status of device
      state:
        type: integer
        format: int32
        description: Current state of device
      current_command:
        type: string
        format: uuid
        description: Current command associated with device
      suid:
        type: string
        description: Device generated unique id
      fcm_id:
        type: string
      enterprise:
        type: string
        format: url
      policy:
        type: string
        format: url
      user:
        type: string
        format: url
      groups:
        type: array
        items:
          type: string
          format: url
      api_level:
        type: integer
        format: int32
      template_name:
        type: string
      mqtt_id:
        type: string
      softwareInfo:
        type: object
      hardwareInfo:
        type: object
      displays:
        type: object
      networkInfo:
        type: object
      memoryInfo:
        type: object
      audioConstraints:
        type: object
      provisioned_on:
        type: string
        format: date-time
      created_on:
        type: string
        format: date-time
      updated_on:
        type: string
        format: date-time
      emm_device:
        $ref: '#/definitions/EmmDevice'
      is_gms:
        type: boolean
        default: true
      is_active:
        type: boolean
        default: true
  DeviceApp:
    required:
      - app_name
      - package_name
      - device
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      permissions:
        type: array
        items:
          $ref: '#/definitions/DeviceAppPermission'
      app_name:
        title: App name
        type: string
        minLength: 1
      package_name:
        title: Package name
        type: string
        maxLength: 255
        minLength: 1
      whitelisted:
        title: Whitelisted
        type: boolean
      is_data_clearable:
        title: Data clearable
        type: boolean
      is_uninstallable:
        title: Uninstallable
        type: boolean
      product_id:
        title: Product id
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      version_code:
        title: Version code
        type: string
        maxLength: 128
        minLength: 1
        x-nullable: true
      version_name:
        title: Version name
        type: string
        maxLength: 128
        minLength: 1
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      device:
        title: Device
        type: string
        format: uuid
  DeviceAppPermission:
    required:
      - permission
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      permission:
        title: Permission
        type: string
        maxLength: 255
        minLength: 1
      grant_state:
        title: Grant state
        type: string
        description: |
          * PERMISSION_GRANT_STATE_DEFAULT = 0
          * PERMISSION_GRANT_STATE_DENIED = 1
          * PERMISSION_GRANT_STATE_GRANTED = 2

          For state details check [Android docs](https://developer.android.com/reference/android/app/admin/DevicePolicyManager#PERMISSION_GRANT_STATE_DEFAULT)
        enum:
          - PERMISSION_GRANT_STATE_DEFAULT
          - PERMISSION_GRANT_STATE_DENIED
          - PERMISSION_GRANT_STATE_GRANTED
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      app:
        title: App
        type: string
        format: uuid
  DeviceCommand:
    required:
      - command
      - enterprise
      - device
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      current_base_uri:
        title: Current base uri
        type: string
        minLength: 1
      command_args:
        $ref: '#/definitions/CommandArgs'
      action:
        title: Action
        type: string
        enum:
          - acknowledge
          - in_progress
          - success
          - failed
      schedule:
        title: Schedule
        type: string
      group_schedule_id:
        title: Group schedule id
        type: string
        format: uuid
      command:
        $ref: '#/definitions/DeviceCommandEnum'
      state:
        title: State
        type: string
        enum:
          - Command Initiated
          - Command Acknowledged
          - Command In Progress
          - Command TimeOut
          - Command Success
          - Command Failure
          - Command Scheduled
      details:
        title: Details
        type: string
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      enterprise:
        title: Enterprise
        type: string
        format: url
      device:
        title: Device
        type: string
        format: url
      group_command:
        title: Group command
        type: string
        format: url
        x-nullable: true
      issued_by:
        title: Issued by
        type: string
        format: url
        x-nullable: true
  DeviceCommandEnum:
    type: string
    description: |
      Command Options

      ```
      * REBOOT: Reboot device
      * LOCK:  Lock device screen
      * INSTALL:  Install an app on device
      * UNINSTALL: Uninstall an app from device
      * WIPE: Wipe device
      * UPDATE_HEARTBEAT: Ping Device
      * SET_WIFI_STATE: wifi on/off
      * SET_BLUETOOTH_STATE: Bluetooth on/off
      * SET_ROTATION_STATE: Auto rotate setting
      * SET_GPS_STATE: GPS options
      * SET_BRIGHTNESS_SCALE: Brightness control
      * SET_STREAM_VOLUME: Volume control
      * SET_SCREEN_OFF_TIMEOUT: Screen timeout setting
      * ADD_TO_WHITELIST: Whitelist an installed sytem app
      * CLEAR_APP_DATA: Clear app data
      ```
    enum:
      - REBOOT
      - LOCK
      - INSTALL
      - UPDATE_HEARTBEAT
      - WIPE
      - SET_WIFI_STATE
      - SET_BLUETOOTH_STATE
      - SET_ROTATION_STATE
      - SET_GPS_STATE
      - SET_BRIGHTNESS_SCALE
      - SET_STREAM_VOLUME
      - SET_SCREEN_OFF_TIMEOUT
      - UNINSTALL
      - ADD_TO_WHITELIST
      - CLEAR_APP_DATA
  DeviceGroup:
    required:
      - name
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      device_count:
        title: Device count
        type: integer
        readOnly: true
      name:
        title: Name
        type: string
        maxLength: 255
        minLength: 1
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      enterprise:
        title: Enterprise
        type: string
        format: url
        readOnly: true
  DeviceGroupUpdate:
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      device_ids:
        type: array
        items:
          type: string
          format: uuid
        uniqueItems: true
      device_count:
        title: Device count
        type: integer
        readOnly: true
      name:
        title: Name
        type: string
        maxLength: 255
        minLength: 1
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      enterprise:
        title: Enterprise
        type: string
        format: url
        readOnly: true
  DeviceStatus:
    required:
      - data
      - device
      - enterprise
    type: object
    properties:
      id:
        title: ID
        type: integer
        readOnly: true
      data:
        title: Data
        type: string
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      device:
        title: Device
        type: string
        format: url
      enterprise:
        title: Enterprise
        type: string
        format: url
  EmmDevice:
    type: object
    properties:
      id:
        type: integer
        format: int64
      google_device_id:
        type: string
      managementType:
        type: string
      device:
        type: string
        format: uuid
      google_user:
        type: integer
        format: int64
      policy:
        type: integer
        format: int64
      created_on:
        type: string
        format: date-time
      updated_on:
        type: string
        format: date-time
      is_active:
        type: boolean
        default: true
  EnterpriseUpdateV1:
    type: object
    properties:
      id:
        title: Id
        description: Id of the enterprise
        type: string
        format: uuid
        readOnly: true
      name:
        title: Enterprise Name
        description: Name of the enterprise
        type: string
        maxLength: 255
        minLength: 1
      registered_name:
        title: Registered name
        description: Registered Name of the enterprise
        type: string
        maxLength: 255
        minLength: 1
      registered_address:
        title: Registered address
        description: Registered address of the enterprise.
        type: string
        maxLength: 255
        minLength: 1
      location:
        title: Enterprise location
        description: 'City, State, Country location of the enterprise'
        type: string
        maxLength: 255
        minLength: 1
      zipcode:
        title: Enterprise zipcode
        description: Description of the enterprise
        type: string
        maxLength: 8
        minLength: 1
      contact_person:
        title: Contact person
        description: Person who is the point of contact for the enterprise
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      contact_number:
        title: Contact number
        description: Contact number of the enterprise
        type: string
        maxLength: 20
        minLength: 1
        x-nullable: true
      contact_email:
        title: Contact email
        description: Contact email address of the enterprise
        type: string
        format: email
        maxLength: 254
        minLength: 1
  EnterpriseV1:
    required:
      - id
      - name
      - short_code
    type: object
    properties:
      id:
        title: Id
        description: Id of the enterprise
        type: string
        format: uuid
        readOnly: true
      name:
        title: Name
        description: Name of the enterprise
        type: string
        maxLength: 255
        minLength: 1
      short_code:
        title: Short code
        description: 'A short 10-char representation of the enterprise, separated by hyphens. Field is optional, as system will auto-generate a value if none is provided.'
        type: string
        maxLength: 10
        minLength: 1
        readOnly: true
      registered_name:
        title: Registered name of the enterprise
        description: Registered Name of the enterprise
        type: string
        maxLength: 255
        minLength: 1
      registered_address:
        title: Registered address
        description: Registered address of the enterprise.
        type: string
        maxLength: 255
        minLength: 1
      location:
        title: Enterprise location
        description: 'City, State, Country location of the enterprise'
        type: string
        maxLength: 255
        minLength: 1
      zipcode:
        title: Enterprise zipcode
        description: Zip code of enterprise location
        type: string
        maxLength: 8
        minLength: 1
      contact_person:
        title: Contact person
        description: Person who is the point of contact for the enterprise
        type: string
        maxLength: 255
        minLength: 1
        x-nullable: true
      contact_number:
        title: Contact number
        description: Contact number of the enterprise
        type: string
        maxLength: 20
        minLength: 1
        x-nullable: true
      contact_email:
        title: Contact email
        description: Contact email address of the enterprise
        type: string
        format: email
        maxLength: 254
        minLength: 1
      emm:
        title: Google EMM
        description: This field will have details about emm enrollment if the enterprise is emm enrolled
        type: object
        properties:
          google_enterprise_id:
            type: string
        maxLength: 50
        minLength: 1
        x-nullable: true
        readOnly: true
      created_on:
        title: Created on
        description: Date and time of when this resource was created
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        description: Date and time of when this resource was updated
        type: string
        format: date-time
        readOnly: true
  GroupCommand:
    required:
      - command
      - enterprise
      - group
    type: object
    properties:
      id:
        title: Id
        type: string
        format: uuid
        readOnly: true
      schedule:
        title: Schedule
        type: string
      command:
        $ref: '#/definitions/GroupCommandEnum'
      command_args:
        $ref: '#/definitions/GroupCommandArgs'
      state:
        title: State
        type: string
        enum:
          - Command Initiated
          - Command Success
          - Command Failure
          - Command Scheduled
      details:
        title: Details
        type: string
        x-nullable: true
      created_on:
        title: Created on
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        type: string
        format: date-time
        readOnly: true
      is_active:
        title: Is active
        type: boolean
      enterprise:
        title: Enterprise
        type: string
        format: url
      group:
        title: Group
        type: string
        format: url
      issued_by:
        title: Issued by
        type: string
        format: uri
        x-nullable: true
  GroupCommandArgs:
    title: Command args
    type: object
    properties:
      app_version:
        type: string
  GroupCommandEnum:
    type: string
    description: |
      Group Command Options

      ```
      * REBOOT: Reboot device
      * LOCK:  Lock device screen
      * INSTALL:  Install an app on device
      * UPDATE_HEARTBEAT: Ping Device
      ```
    enum:
      - REBOOT
      - LOCK
      - INSTALL
      - UPDATE_HEARTBEAT
  GroupCommandRequest:
    required:
      - command
    type: object
    properties:
      command_args:
        $ref: '#/definitions/GroupCommandArgs'
      command:
        $ref: '#/definitions/GroupCommandEnum'
  SettingsGPSStateEnum:
    type: integer
    description: |
      Device settings GPS state enum

      ```
      * LOCATION_MODE_HIGH_ACCURACY = 0
      * LOCATION_MODE_SENSORS_ONLY = 1
      * LOCATION_MODE_BATTERY_SAVING = 2
      * LOCATION_MODE_OFF = 3
      ```
    enum:
      - 0
      - 1
      - 2
      - 3
  SettingsRotateStateEnum:
    type: integer
    description: |
      Device settings rotate state enum

      ```
      * AUTO = 0
      * PORTRAIT_ONLY = 1
      * LANDSCAPE_ONLY = 2
      ```
    enum:
      - 0
      - 1
      - 2
  SettingsVolumeStreamEnum:
    type: integer
    description: |
      Device settings volume stream enum

      ```
      * STREAM_RING = 0
      * STREAM_NOTIFICATION = 1
      * STREAM_ALARM = 2
      * STREAM_MUSIC = 3
      ```
    enum:
      - 0
      - 1
      - 2
      - 3
  TokenInfoV1:
    required:
      - id
      - enterprise
    type: object
    properties:
      id:
        title: Id
        description: Token id
        type: string
        format: integer
        readOnly: true
      enterprise:
        title: Enterprise id
        description: Id of the enterprise resource
        type: string
        format: uuid
        readOnly: true
      user:
        title: User id
        description: Id of the user resource
        type: string
        readOnly: true
      developer_app:
        title: Developer app id
        description: Id of the developer app resource that you created using the esper dev console
        type: string
        format: uuid
        readOnly: true
      source_refresh_token:
        title: Refresh token
        description: The refresh token is used to refresh your expired API token
        type: string
        readOnly: true
      token:
        title: API Token
        description: API token for accessing esper APIs
        type: string
        readOnly: true
      expires_on:
        title: API token expiry
        description: Date and time of when your API token will get expired
        type: string
        format: date-time
        readOnly: true
      scope:
        title: Scope of API token
        description: This defines what access scopes does your API token has
        type: array
        items:
          type: string
        readOnly: true
      created_on:
        title: Created on
        description: Date and time of when this resource was created
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        description: Date and time of when this resource was updated
        type: string
        format: date-time
        readOnly: true
  V0CommandArgs:
    title: Command args
    type: object
    properties:
      device_alias_name:
        description: Alternate human-readable name for your Device
        type: string
      custom_settings_config:
        description: Managed configurations for your device (passed as JSON object)
        type: object
  V0CommandRequest:
    type: object
    properties:
      id:
        title: Id
        description: Unique command request identifier
        type: string
        format: uuid
        readOnly: true
      enterprise:
        title: Enterperise ID
        description: Esper account identifier
        type: string
        format: uuid
        readOnly: true
      command_type:
        type: string
        description: |
          Identifies the type of command

          ```
          * DEVICE: command request is meant for devices
          * GROUP: command request is meant for groups
          * DYNAMIC: command request is meant for dynamic set of devices
            i.e subset of devices from different groups or otherwise.
          ```
        enum:
          - DEVICE
          - GROUP
          - DYNAMIC
      devices:
        type: array
        description: list of devices to run commands
        items:
          type: string
          format: uuid
        minItems: 0
        maxItems: 500
      groups:
        type: array
        description: list of groups to run commands
        items:
          type: string
          format: uuid
        minItems: 0
        maxItems: 500
      device_type:
        type: string
        description: |
          Type of devices to run commands on

          ```
          * active: Run commands on currently online devices
          * inactive: Run commands on currently offline devices
          * all: Run commands on all the devices.
            Commands will be queued for offline devices until they come back online.
          ```
        default: active
        enum:
          - active
          - inactive
          - all
      command:
        $ref: '#/definitions/V0DeviceCommandEnum'
      command_args:
        $ref: '#/definitions/V0CommandArgs'
      schedule:
        $ref: '#/definitions/V0CommandScheduleEnum'
      schedule_args:
        $ref: '#/definitions/V0CommandScheduleArgs'
      issued_by:
        type: string
        format: url
        description: command is issued by this user
        readOnly: true
      created_on:
        title: Created on
        description: Timestamp of command request
        type: string
        format: date-time
        readOnly: true
      status:
        title: Current Status
        description: Show creent status of commands issued during in this request
        type: array
        items:
          $ref: '#/definitions/V0CommandRequestStatus'
        readOnly: true
  V0CommandRequestStatus:
    type: object
    properties:
      state:
        title: Command State
        description: Current State of command
        type: string
        format: uuid
      total:
        title: Count
        description: No of commands currently in this state
        type: integer
        format: int64
  V0CommandScheduleArgs:
    title: Command Schedule Arguments
    type: object
    properties:
      name:
        type: string
      start_datetime:
        type: string
        format: date-time
      end_datetime:
        type: string
        format: date-time
      time_type:
        $ref: '#/definitions/V0CommandScheduleArgsTimeTypeEnum'
      window_start_time:
        type: string
      window_end_time:
        type: string
      days:
        type: array
        items:
          type: string
  V0CommandScheduleArgsTimeTypeEnum:
    type: string
    description: |
      The Time-Type argument, in Schedule args, is to indicate which timezone the Command Framework should utilize when scheduling the command.
      Following Schedule Args for Time-Type are supported:

      ```
      * CONSOLE: Use the local timezone of the user creating the schedule.
      * DEVICE: Use the local timezone of the device, to which the command is issued, wherever it may be.
      ```
    enum:
      - console
      - device
  V0CommandScheduleEnum:
    type: string
    description: |
      Following Schedule types are supported

      ```
      * IMMEDIATE: Schedule the command to execcute Immediately
      * WINDOW: Schedule the command to execute within the given window
      * RECURRING: Schedule the command to execute repeatedly, within given parameters
      ```
    enum:
      - IMMEDIATE
      - WINDOW
      - RECURRING
  V0CommandStatus:
    type: object
    properties:
      id:
        title: Id
        description: Unique command identifier
        type: string
        format: uuid
        readOnly: true
      request:
        title: Request Id
        description: Request Id associated with this command
        type: string
        format: uuid
        readOnly: true
      device:
        title: Device
        description: Device associated with this command
        type: string
        format: url
        readOnly: true
      state:
        type: string
        description: Current state of the command
        enum:
          - Command Queued
          - Command Initiated
          - Command Acknowledged
          - Command In Progress
          - Command TimeOut
          - Command Success
          - Command Failure
          - Command Scheduled
          - Command Cancelled
      reason:
        type: string
        description: details briefing the reason for current command state
      created_on:
        title: Created on
        description: Timestamp of command creation
        type: string
        format: date-time
        readOnly: true
      updated_on:
        title: Updated on
        description: Last updated timestamp of command
        type: string
        format: date-time
        readOnly: true
  V0CommandStatusUpdate:
    type: object
    properties:
      reason:
        type: string
        description: details briefing the reason for current command state
      details:
        type: object
        properties:
          reason:
            type: string
            description: details briefing the reason for current command state
  V0DeviceCommandEnum:
    type: string
    description: |
      Following commands are supported

      ```
      * REBOOT: Reboot a device
      * UPDATE_HEARTBEAT: Ping a device
      * UPDATE_DEVICE_CONFIG: Push additional configurations to the Device
      ```
    enum:
      - REBOOT
      - UPDATE_HEARTBEAT
      - UPDATE_DEVICE_CONFIG
